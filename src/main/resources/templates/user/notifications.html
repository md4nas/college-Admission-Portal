<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      th:replace="~{base::Layout(~{::section})}">
<head>
    <meta charset="UTF-8">
    <title>Notifications</title>
</head>
<body>

<section>
    <div class="container-fluid">
        <!-- Header -->
        <div class="row mb-4">
            <div class="col-12">
                <div class="card bg-warning text-dark">
                    <div class="card-body text-center py-4">
                        <i class='bx bx-bell' style="font-size: 3rem;"></i>
                        <h2 class="mt-3 mb-2">Notifications</h2>
                        <p class="mb-0">Stay updated with your application status and important announcements</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Application Status Notifications -->
        <div class="row mb-4" th:if="${application != null}">
            <div class="col-12">
                <div class="card">
                    <div class="card-header bg-primary text-white">
                        <h5><i class='bx bx-file-blank me-2'></i>Application Status Updates</h5>
                    </div>
                    <div class="card-body">
                        <div class="timeline">
                            <div class="timeline-item">
                                <div class="timeline-marker bg-success"></div>
                                <div class="timeline-content">
                                    <h6 class="text-success">Application Submitted</h6>
                                    <p class="text-muted mb-1">Your college application has been successfully submitted.</p>
                                    <small class="text-muted">Status: SUBMITTED</small>
                                </div>
                            </div>
                            
                            <div th:if="${application.status == 'APPROVED' or application.status == 'ALLOCATED' or application.status == 'ACCEPTED'}" class="timeline-item">
                                <div class="timeline-marker bg-info"></div>
                                <div class="timeline-content">
                                    <h6 class="text-info">Application Approved</h6>
                                    <p class="text-muted mb-1">Congratulations! Your application has been approved by the academic committee.</p>
                                    <small class="text-muted">Status: APPROVED</small>
                                </div>
                            </div>
                            
                            <div th:if="${application.status == 'ALLOCATED' or application.status == 'ACCEPTED'}" class="timeline-item">
                                <div class="timeline-marker bg-warning"></div>
                                <div class="timeline-content">
                                    <h6 class="text-warning">Seat Allocated</h6>
                                    <p class="text-muted mb-1">A seat has been allocated to you in <strong th:text="${application.allocatedBranch}"></strong> branch.</p>
                                    <small class="text-muted">Status: ALLOCATED</small>
                                </div>
                            </div>
                            
                            <div th:if="${application.status == 'ACCEPTED'}" class="timeline-item">
                                <div class="timeline-marker bg-success"></div>
                                <div class="timeline-content">
                                    <h6 class="text-success">Seat Accepted</h6>
                                    <p class="text-muted mb-1">You have successfully accepted your allocated seat. Welcome to the college!</p>
                                    <small class="text-muted">Status: ACCEPTED</small>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- General Notifications -->
        <div class="row mb-4">
            <div class="col-12">
                <div class="card">
                    <div class="card-header bg-info text-white">
                        <h5><i class='bx bx-bell-ring me-2'></i>General Announcements</h5>
                    </div>
                    <div class="card-body">
                        <div class="alert alert-info">
                            <h6 class="alert-heading"><i class='bx bx-info-circle me-2'></i>Important Notice</h6>
                            <p class="mb-2">The admission process for the current academic year is ongoing. Please ensure all your documents are submitted on time.</p>
                            <hr>
                            <p class="mb-0"><small>Posted: Today | Category: Admission</small></p>
                        </div>
                        
                        <div class="alert alert-warning">
                            <h6 class="alert-heading"><i class='bx bx-time me-2'></i>Deadline Reminder</h6>
                            <p class="mb-2">Last date for fee payment is approaching. Please complete your fee payment to secure your admission.</p>
                            <hr>
                            <p class="mb-0"><small>Posted: 2 days ago | Category: Fee Payment</small></p>
                        </div>
                        
                        <div class="alert alert-success">
                            <h6 class="alert-heading"><i class='bx bx-check-circle me-2'></i>System Update</h6>
                            <p class="mb-2">Our admission portal has been updated with new features. You can now track your application status in real-time.</p>
                            <hr>
                            <p class="mb-0"><small>Posted: 1 week ago | Category: System</small></p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- No Application Case -->
        <div th:if="${application == null}" class="row mb-4">
            <div class="col-12">
                <div class="text-center py-5">
                    <i class='bx bx-bell-off text-muted' style="font-size: 4rem;"></i>
                    <h4 class="mt-3 text-muted">No Application Notifications</h4>
                    <p class="text-muted mb-4">Submit your college application to receive status updates and notifications.</p>
                    <a href="/user/application" class="btn btn-primary">
                        <i class='bx bx-plus me-2'></i>Submit Application
                    </a>
                </div>
            </div>
        </div>

        <!-- Navigation -->
        <div class="row">
            <div class="col-12 text-center">
                <a href="/user/" class="btn btn-secondary">
                    <i class='bx bx-arrow-back'></i> Back to Dashboard
                </a>
            </div>
        </div>
    </div>

    <style>
        .timeline {
            position: relative;
            padding-left: 30px;
        }
        .timeline-item {
            position: relative;
            margin-bottom: 30px;
        }
        .timeline-item:before {
            content: '';
            position: absolute;
            left: -21px;
            top: 0;
            bottom: -30px;
            width: 2px;
            background: #dee2e6;
        }
        .timeline-item:last-child:before {
            display: none;
        }
        .timeline-marker {
            position: absolute;
            left: -30px;
            top: 5px;
            width: 16px;
            height: 16px;
            border-radius: 50%;
            border: 3px solid #fff;
            box-shadow: 0 0 0 2px #dee2e6;
        }
        .timeline-content {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid #007bff;
        }
    </style>
</section>

</body>
</html>